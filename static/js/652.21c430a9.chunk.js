"use strict";(self.webpackChunkfrontend_test=self.webpackChunkfrontend_test||[]).push([[652],{9652:function(e,t,r){r.r(t),r.d(t,{worker:function(){return b}});var a,n=r(3433),o=r(7517),d=r(9439),s=r(1553),i=r(9759),u=r(2642),c=r(1529),p=r(1718),y=function(){return{address:s.ZP.address.streetAddress(!0),bagPerDayPrice:BigInt(s.ZP.datatype.number({min:4,max:7})),currencyCode:"GBP",id:s.ZP.datatype.uuid(),name:s.ZP.company.companyName(),rating:s.ZP.datatype.number({min:0,max:5,precision:.1})}},g=(a=50,Array.from({length:a}).map(y)),f=[],l=[u.r.get("/api/stashpoints",(function(e,t,r){return t(r.delay("real"),r.status(200),r.json(c.S4.encode(g)))})),u.r.post("/api/quotes",(function(e,t,r){var a=e.body,n=a.bagCount,o=a.dateRange,s=a.stashpointId;if(!(0,p.jb)(n))return t(r.delay("real"),r.status(422),r.json({error:{code:"INVALID_BAG_COUNT"}}));var u=c.C0.decode(o),y=(0,d.Z)(u,2),f=y[0],l=y[1];if(void 0!==f||!(0,p.RZ)(l))return t(r.delay("real"),r.status(422),r.json({error:{code:"INVALID_DATE_RANGE"}}));var b=g.find((function(e){return e.id===s}));if(void 0===b)return t(r.delay("real"),r.status(404),r.json({error:{code:"NOT_FOUND"}}));var v=function(e){var t=e.bagCount,r=e.dateRange,a=e.stashpoint;return{bagCount:t,currencyCode:a.currencyCode,dateRange:r,stashpointId:a.id,totalPrice:a.bagPerDayPrice*BigInt(t)*BigInt((0,i.Z)(r.to,r.from))}}({bagCount:n,dateRange:l,stashpoint:b});return t(r.delay("real"),r.status(200),r.json(c.NK.encode(v)))})),u.r.post("/api/bookings",(function(e,t,r){var a=e.body,n=a.bagCount,o=a.dateRange,u=a.stashpointId;if(!(0,p.jb)(n))return t(r.delay("real"),r.status(422),r.json({error:{code:"INVALID_BAG_COUNT"}}));var y=c.C0.decode(o),l=(0,d.Z)(y,2),b=l[0],v=l[1];if(void 0!==b||!(0,p.RZ)(v))return t(r.delay("real"),r.status(422),r.json({error:{code:"INVALID_DATE_RANGE"}}));var C=g.find((function(e){return e.id===u}));if(void 0===C)return t(r.delay("real"),r.status(404),r.json({error:{code:"NOT_FOUND"}}));var I=function(e){var t=e.bagCount,r=e.dateRange,a=e.stashpoint;return{bagCount:t,currencyCode:a.currencyCode,dateRange:r,id:s.ZP.datatype.uuid(),stashpoint:a,totalPrice:a.bagPerDayPrice*BigInt(t)*BigInt((0,i.Z)(r.to,r.from))}}({bagCount:n,dateRange:v,stashpoint:C});return f.push(I),t(r.delay("real"),r.status(200),r.json(c.$N.encode(I)))})),u.r.post("/api/payments",(function(e,t,r){var a=e.body.bookingId;return void 0===f.find((function(e){return e.id===a}))?t(r.delay("real"),r.status(404),r.json({error:{code:"NOT_FOUND"}})):t(r.delay("real"),r.status(200),r.json(c.F6.encode({id:s.ZP.datatype.uuid()})))}))],b=o.Lv.apply(void 0,(0,n.Z)(l))}}]);
//# sourceMappingURL=652.21c430a9.chunk.js.map